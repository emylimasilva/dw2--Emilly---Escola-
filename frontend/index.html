<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gest√£o Escolar</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header com busca -->
    <header>
        <div class="container header-content">
            <div class="logo-search">
                <h1>Gest√£o Escolar</h1>
                <div class="search-container">
                    <input type="text" id="searchAluno" placeholder="Buscar aluno..." aria-label="Buscar aluno">
                    <button class="btn btn-secundario" aria-label="Buscar">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <nav>
                <button id="newAlunoBtn" class="btn btn-primario">Novo Aluno</button>
                <button id="newMatriculaBtn" class="btn btn-secundario">Nova Matr√≠cula</button>
                <button id="exportBtn" class="btn btn-acento">Exportar Dados</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="dashboard-grid">
            <!-- Coluna de filtros e estat√≠sticas -->
            <aside class="filtros-stats">
                <section class="card">
                    <h2>Filtros</h2>
                    <div class="form-grupo">
                        <label for="filtroTurma">Turma</label>
                        <select id="filtroTurma" class="form-input">
                            <option value="">Todas as turmas</option>
                        </select>
                    </div>
                    <div class="form-grupo">
                        <label for="filtroStatus">Status</label>
                        <select id="filtroStatus" class="form-input">
                            <option value="">Todos</option>
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                </section>

                <section class="card estatisticas">
                    <h2>Estat√≠sticas</h2>
                    <div class="stat-grid">
                        <div class="stat-item">
                            <h3>Total de Alunos</h3>
                            <p id="totalAlunos">0</p>
                        </div>
                        <div class="stat-item">
                            <h3>Alunos Ativos</h3>
                            <p id="alunosAtivos">0</p>
                        </div>
                        <div class="stat-item">
                            <h3>Taxa de Ocupa√ß√£o</h3>
                            <p id="taxaOcupacao">0%</p>
                        </div>
                    </div>
                </section>
            </aside>

            <!-- √Årea principal com listagem -->
            <section class="conteudo-principal">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="alunos">Alunos</button>
                    <button class="tab-btn" data-tab="turmas">Turmas</button>
                </div>

                <!-- Tab Alunos -->
                <div id="alunosTab" class="tab-content active">
                    <div class="table-container">
                        <table aria-label="Lista de Alunos">
                            <thead>
                                <tr>
                                    <th>Nome <button class="sort-btn" data-sort="nome">‚Üï</button></th>
                                    <th>Data Nascimento <button class="sort-btn" data-sort="idade">‚Üï</button></th>
                                    <th>Email</th>
                                    <th>Turma</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="listaAlunos">
                                <!-- Preenchido via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab Turmas -->
                <div id="turmasTab" class="tab-content">
                    <div class="cards-grid" id="listaTurmas">
                        <!-- Preenchido via JavaScript -->
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Modal Novo Aluno -->
    <div id="modalNovoAluno" class="modal" aria-labelledby="modalNovoAlunoTitle" aria-modal="true" hidden>
        <div class="modal-content">
            <h2 id="modalNovoAlunoTitle">Novo Aluno</h2>
            <form id="formNovoAluno">
                <div class="form-grupo">
                    <label for="nomeAluno">Nome*</label>
                    <input type="text" id="nomeAluno" class="form-input" required minlength="3" maxlength="80">
                </div>
                <div class="form-grupo">
                    <label for="dataNascimento">Data de Nascimento*</label>
                    <input type="date" id="dataNascimento" class="form-input" required>
                </div>
                <div class="form-grupo">
                    <label for="emailAluno">Email</label>
                    <input type="email" id="emailAluno" class="form-input" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                </div>
                <div class="form-grupo">
                    <label for="statusAluno">Status*</label>
                    <select id="statusAluno" class="form-input" required>
                        <option value="ativo">Ativo</option>
                        <option value="inativo">Inativo</option>
                    </select>
                </div>
                <div class="form-grupo">
                    <label for="turmaAluno">Turma</label>
                    <select id="turmaAluno" class="form-input">
                        <option value="">Selecione uma turma</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secundario" data-close-modal>Cancelar</button>
                    <button type="submit" class="btn btn-primario">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nova Matr√≠cula -->
    <div id="modalNovaMatricula" class="modal" aria-labelledby="modalNovaMatriculaTitle" aria-modal="true" hidden>
        <div class="modal-content">
            <h2 id="modalNovaMatriculaTitle">Nova Matr√≠cula</h2>
            <form id="formNovaMatricula">
                <div class="form-grupo">
                    <label for="alunoMatricula">Aluno*</label>
                    <select id="alunoMatricula" class="form-input" required>
                        <option value="">Selecione um aluno</option>
                    </select>
                </div>
                <div class="form-grupo">
                    <label for="turmaMatricula">Turma*</label>
                    <select id="turmaMatricula" class="form-input" required>
                        <option value="">Selecione uma turma</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secundario" data-close-modal>Cancelar</button>
                    <button type="submit" class="btn btn-primario">Matricular</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toastFeedback" class="toast" role="alert" aria-live="polite"></div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="js/script.js"></script>
</body>
  <header>
    <h1>Gest√£o Escolar</h1>
    <input type="search" id="search" placeholder="Buscar aluno...">
  </header>

  <main>
    <!-- COLUNA ESQUERDA -->
    <aside class="sidebar">
      <h2>Filtros</h2>
      <form id="filters">
        <label for="turma">Turma</label>
        <select id="turmaFilter">
          <option value="">Todas</option>
        </select>

        <label for="status">Status</label>
        <select id="statusFilter">
          <option value="">Todos</option>
          <option value="ativo">Ativo</option>
          <option value="inativo">Inativo</option>
        </select>

        <label for="texto">Nome</label>
        <input type="text" id="textoFilter" placeholder="Digite o nome">

        <button type="button" id="clearFilters">Limpar Filtros</button>
      </form>

      <div class="stats">
        <p><strong>Total:</strong> <span id="total-alunos">0</span></p>
        <p><strong>Ativos:</strong> <span id="ativos">0</span></p>
      </div>

      <button id="novoAlunoBtn">+ Novo Aluno</button>
    </aside>

    <!-- COLUNA DIREITA -->
    <section class="content">
      <h2>Alunos</h2>
      <table>
        <caption>Lista de Alunos</caption>
        <thead>
          <tr>
            <th>Nome <button id="sortNome">üîΩ</button></th>
            <th>Data Nascimento <button id="sortIdade">üîΩ</button></th>
            <th>Status</th>
            <th>Turma</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody id="alunos-list"></tbody>
      </table>

      <div id="feedback" aria-live="polite"></div>
    </section>
  </main>

  <!-- Modal Novo/Editar Aluno -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle">Novo Aluno</h2>
      <form id="alunoForm">
        <label for="nome">Nome*</label>
        <input type="text" id="nome" required>

        <label for="dataNascimento">Data de Nascimento*</label>
        <input type="date" id="dataNascimento" required>

        <label for="email">Email*</label>
        <input type="email" id="email" required>

        <label for="status">Status*</label>
        <select id="status" required>
          <option value="ativo">Ativo</option>
          <option value="inativo">Inativo</option>
        </select>

        <label for="turma">Turma*</label>
        <select id="turma" required></select>

        <button type="submit">Salvar</button>
        <button type="button" id="closeModal">Cancelar</button>
      </form>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
